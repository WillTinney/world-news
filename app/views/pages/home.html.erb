<h1>Pages#home</h1>
<p>Find me in app/views/pages/home.html.erb</p>

<div id="map" class="center-block" style="width: 960px; height: 720px"></div>

<div class="container">
  <%= uri = URI.parse("https://newsapi.org/v1/articles?source=the-next-web&sortBy=latest&apiKey=" + ENV['NEWS_API_KEY']) %>
  <p><%= uri.host %></p>
  <p><%= uri.port %></p>
  <p><%= uri.request_uri %></p>
    <p><%= http = Net::HTTP.new(uri.host, uri.port) %></p>
    <% http.use_ssl = true %>
    <p><%= request = Net::HTTP::Get.new(uri.request_uri) %></p>

    <% response = http.request(request) %>

    <% if response.code == "200" %>
      <%= result = JSON.parse(response.body) %>
    <% else %>
      Whoops! API could not be reached.
    <% end %>

    <!-- https://newsapi.org/v1/articles?source=the-next-web&sortBy=latest&apiKey=ENV['NEWS_API_KEY'] -->
    <!-- https://newsapi.org/v1/articles?source=the-next-web&sortBy=latest&apiKey=b7289c1cbb954cc98154a32598498719 -->
    <!-- https://newsapi.org/v1/sources?language=en -->
    <!-- https://content.guardianapis.com/search?api-key=0cc5d5f2-26bb-4da4-b19e-60d1aeec4005 -->
</div>


<%= content_for(:after_js) do %>
  <script>

  $('#map').vectorMap({map: 'world_mill'});

    // jQuery('#vmap').vectorMap({
    //     map: 'world_en',
    //     backgroundColor: null,
    //     color: '#ffffff',
    //     hoverOpacity: 0.7,
    //     selectedColor: '#666666',
    //     enableZoom: true,
    //     showTooltip: true,
    //     values: sample_data,
    //     scaleColors: ['#C8EEFF', '#006491'],
    //     normalizeFunction: 'polynomial'
    // });
  </script>
<% end %>
